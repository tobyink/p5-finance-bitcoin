TODO:
* This is only tested with bitcoing 0.3.3. Need to test with newer bitcoin clients.
